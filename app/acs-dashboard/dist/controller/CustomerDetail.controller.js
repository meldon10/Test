sap.ui.define(["com/sap/acs/ui/dashboard/controller/DashboardACS.controller","sap/ui/model/json/JSONModel","com/sap/acs/ui/dashboard/util/Constants","com/sap/acs/ui/dashboard/util/formatter","com/sap/acs/ui/dashboard/util/MapConfig","sap/ui/core/Fragment"],function(e,t,o,a,s,r){"use strict";return e.extend("com.sap.acs.ui.dashboard.controller.CustomerDetail",{formatter:a,onInit:function(){var e=this.getComponentModel("visibility");e.setProperty("/mapSelectionCustomerDetails",false);e.updateBindings();this.getRouter().getRoute("customerDetail").attachPatternMatched(this._onObjectMatched,this);this.setCountry();this.setMapData()},_onObjectMatched:function(e){var t=window.decodeURIComponent(e.getParameter("arguments").details);this.headerDataBinding(t);var a=this.getComponentModel("shared");var s=this.getComponentModel("shared").getProperty("/mapSpots");if(!s){this.getRouter().navTo("RouteDashboardACS")}a.setProperty("/mapSpotsCustomerDetails",s);a.setProperty("/imagesCustomerDetails",o.Images);a.updateBindings(true)},onPressServiceOrder:function(){},headerDataBinding:function(e){var t=this.getComponentModel("shared");var o=this.getComponentModel("shared").getProperty(e);if(o){o.service_order_length=o.service_orders.length}t.setProperty("/situationTableCustomerDetails",o);t.updateBindings(true)},onMapContentChange:function(e){var t=this.getComponentModel("visibility");var o=e.getParameter("selectedItemId").includes("idmap");if(o){t.setProperty("/mapSelectionCustomerDetails",false)}else{t.setProperty("/mapSelectionCustomerDetails",true)}t.updateBindings()},onClickCustomerDetailSpot:function(e){oSource=e.getSource();var t=oSource.getBindingContext("shared").getPath();this.headerDataBinding(t)}})});